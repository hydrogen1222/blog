
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hexo">
    <title>Cu(111) slab模型的单点计算 - Hexo</title>
    <meta name="author" content="John Doe">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"John Doe","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"首先对Cu单胞进行结构优化（bulk计算），然后使用优化的结构进行切割，再进行计算（由于晶胞已经优化过，所以本次计算其实是单点计算）。大师兄提到：\r\n\r\nCu(111) slab\r\n模型（POSCAR）的制作流程（复习一下）。注意：前面我们用的是Conventional\r\ncell，下面用的是Primitive Cell。\r\n一般来说用Conventional cell，\r\nFCC的金属可以用Primitive Cell\r\n但对于其他体系，通过Primitive Cell切出来表面模型有问题\r\n\r\n我准备两种都验证一下。\r\n使用Conventional\r\nCell建立slab模型\r\n切割结构\r\n将bulk计算完毕的CONTCAR文件用Vesta打开，再转换为.cif文件使用Materials\r\nStudio打开\r\n\r\nStep1：Build-Surface-Cleave Surface\r\n\r\nAngstrom是单位埃，需要切割的晶面是(111)，相应的平面方程为x + y + z − 1 = 0，使用点到直线的距离公式即可求出晶面间距离，，即厚度thickness\r\nPS：之前111晶面是啥都给整忘了，算个点到直线的距离也能算错，真该抽自己两巴掌回去恶补高等数学😭\r\n以下是来自维基百科的关于米勒指数以及111晶面的介绍，很形象了\r\n\r\n\r\n米勒指数以及111晶面\r\n\r\n\r\n\r\nGeoGebra计算器\r\n\r\n平面ABC为：x + y + z − 1 = 0，点D为(1,1,0)\r\n算一下厚度： $$\r\nd=\\dfrac{|Ax_0+By_0+Cz_0|}{\\sqrt{A^2+B^2+C^2}}=\\dfrac{1}{\\sqrt{3}}a\\approx\r\n\\dfrac{1}{\\sqrt{3}}\\times 3.63468 \\approx 2.0984\r\n$$ \r\n在切割晶面时，thickness设置为4.0 (4.0 = 1.0 × 4)，即四倍的晶胞参数、四层原子，按一下TAB，软件软件会自动计算四层原子的真是厚度（单位：Angstrom埃），大约是8.394 ≈ 4 × 2.0984，这与我们手动计算的晶面间距离2.0984的四倍相符\r\n\r\nStep2：添加真空层，Build-Crystal-Build vacuum slab-Vacuum\r\norientation：C\r\n\r\n\r\n\r\n添加真空层\r\n\r\n\r\nStep3：右键-lattice parameters\r\n\r\n\r\n\r\n设置Z轴方向为真空层\r\n\r\n导出为.cif，vesta打开转换为POSCAR,\r\nINCAR如下\r\n123456789101112System = Cu-conventional-slabISMEAR = 1SIGMA = 0.1ALGO = FastENCUT = 450 # the system is too huge to adopt huge ENCUTEDIFF = 1E-5LDIPOL = .TRUE.IDIPOL = 3NWRITE = 0LWAVE = .FALSE.LCHARG = .FALSE.NCORE = 20\r\nSlab模型虽然是代表表面，但是实际上在z方向是固体-真空-固体-真空-…的交替。如果我们建立的Slab模型在z方向是非对称的，模型就会产生一个沿z方向的偶极。偶极会产生静电势，静电势接着会影响模型的镜像（周期性边界条件）。最后算出来的模型的总能量和力与真实情况是不相符的。因此我们需要方法去矫正这种虚假的静电影响。\r\n一种常用的方法就是偶极矫正，在真空部分加入一个超窄的但是方向相反的偶极。这样一来，固体模型产生的偶极和真空中的偶极就会相互抵消。模型和其镜像之间的静电势影响就会抵消\r\n微调KPOINTS\r\n12345K-POINTS 0Gamma  13 13 1  0 0 0\r\n计算结果\r\n12[ctan@baifq-hpc141 Cu-conventional-slab]$ grep &#x27;  without&#x27; OUTCAR  energy  without entropy=      -55.91176854  energy(sigma-&gt;0) =      -55.91397643\r\nPS：最近学迷糊了，关于收敛脑海中有一个极其不正且的理解\r\n1234567891011121314151617181920212223242526272829303132333435[ctan@baifq-hpc141 bulk-calc]$ grep accuracy OUTCAR reached required accuracy - stopping structural energy minimisation[ctan@baifq-hpc141 bulk-calc]$ cat OSZICAR       N       E                     dE             d eps       ncg     rms          rms(c)DAV:   1     0.103476848532E+03    0.10348E+03   -0.27847E+04  6720   0.246E+03DAV:   2    -0.180387697818E+02   -0.12152E+03   -0.12091E+03  7280   0.155E+02DAV:   3    -0.185227503579E+02   -0.48398E+00   -0.48396E+00 10160   0.132E+01DAV:   4    -0.185240376489E+02   -0.12873E-02   -0.12873E-02  8200   0.464E-01DAV:   5    -0.185240414620E+02   -0.38131E-05   -0.38134E-05 10480   0.143E-02    0.154E+01DAV:   6    -0.164394189736E+02    0.20846E+01   -0.72731E+01  6800   0.881E+01    0.783E+00DAV:   7    -0.149577606472E+02    0.14817E+01   -0.11165E+01  6720   0.344E+01    0.111E+00DAV:   8    -0.149148685722E+02    0.42892E-01   -0.18431E-02  7280   0.139E+00    0.620E-01DAV:   9    -0.149081819010E+02    0.66867E-02   -0.51836E-02  8440   0.220E+00    0.636E-02DAV:  10    -0.149081753161E+02    0.65849E-05   -0.22202E-04  9000   0.149E-01    0.115E-02DAV:  11    -0.149081715196E+02    0.37964E-05   -0.16862E-06  8520   0.968E-03    0.844E-04DAV:  12    -0.149081716052E+02   -0.85577E-07   -0.88627E-08  4640   0.248E-03   1 F= -.14908172E+02 E0= -.14905377E+02  d E =-.149082E+02       N       E                     dE             d eps       ncg     rms          rms(c)DAV:   1    -0.149363274123E+02   -0.28156E-01   -0.51946E-01  6720   0.830E+00    0.131E+00DAV:   2    -0.149199449776E+02    0.16382E-01   -0.41291E-01  6720   0.646E+00    0.538E-01DAV:   3    -0.149119014518E+02    0.80435E-02   -0.68998E-02  6720   0.271E+00    0.192E-01DAV:   4    -0.149112107699E+02    0.69068E-03   -0.11896E-03  9800   0.216E-01    0.117E-02DAV:   5    -0.149112123403E+02   -0.15704E-05   -0.80430E-06  7320   0.267E-02    0.594E-03DAV:   6    -0.149112142891E+02   -0.19488E-05   -0.13229E-06  4760   0.997E-03    0.128E-04DAV:   7    -0.149112142406E+02    0.48522E-07   -0.22610E-08  3560   0.101E-03   2 F= -.14911214E+02 E0= -.14908447E+02  d E =-.304264E-02       N       E                     dE             d eps       ncg     rms          rms(c)DAV:   1    -0.150389301673E+02   -0.12772E+00   -0.26022E+00  6720   0.187E+01    0.290E+00DAV:   2    -0.149566578541E+02    0.82272E-01   -0.20265E+00  6720   0.143E+01    0.119E+00DAV:   3    -0.149175257623E+02    0.39132E-01   -0.34317E-01  6720   0.604E+00    0.437E-01DAV:   4    -0.149140056079E+02    0.35202E-02   -0.72028E-03 10080   0.565E-01    0.378E-02DAV:   5    -0.149139977907E+02    0.78172E-05   -0.11528E-04  7840   0.108E-01    0.134E-02DAV:   6    -0.149140005388E+02   -0.27480E-05   -0.66656E-06  7680   0.220E-02    0.371E-04DAV:   7    -0.149140005655E+02   -0.26792E-07   -0.64306E-08  3960   0.196E-03   3 F= -.14914001E+02 E0= -.14911298E+02  d E =-.582896E-02\r\n这是上一节里的关于bulk计算（结构优化）的部分内容，可以看到，reached required accuracy - stopping structural energy minimisation——离子步已经收敛，在之后的OSZICAR里，电子步迭代最多7步，并未超过设置的最大电子步数目。因此对于bulk计算，==电子步和离子步都收敛==\r\n而对于slab模型的单点计算，我也傻傻的这么做😢\r\n12345678910111213141516171819202122232425262728[ctan@baifq-hpc141 conventional-slab-static]$ grep accuracy OUTCAR[ctan@baifq-hpc141 conventional-slab-static]$ cat OSZICAR       N       E                     dE             d eps       ncg     rms          rms(c)DAV:   1     0.178654188479E+04    0.17865E+04   -0.88940E+04 10388   0.264E+03DAV:   2     0.200572973408E+03   -0.15860E+04   -0.15355E+04 10388   0.519E+02DAV:   3    -0.535557174826E+02   -0.25413E+03   -0.23428E+03 10438   0.249E+02DAV:   4    -0.683234131101E+02   -0.14768E+02   -0.14274E+02 11572   0.815E+01DAV:   5    -0.687193157556E+02   -0.39590E+00   -0.39405E+00 12400   0.117E+01    0.292E+01RMM:   6    -0.611494529970E+02    0.75699E+01   -0.15131E+02 11054   0.104E+02    0.161E+01RMM:   7    -0.558685188476E+02    0.52809E+01   -0.32335E+01 10772   0.530E+01    0.226E+00RMM:   8    -0.559296519539E+02   -0.61133E-01   -0.22789E+00 11552   0.614E+00    0.111E+00RMM:   9    -0.559488617332E+02   -0.19210E-01   -0.37622E-01 11539   0.361E+00    0.509E-01RMM:  10    -0.559454147061E+02    0.34470E-02   -0.13294E-01 12844   0.193E+00    0.214E-01RMM:  11    -0.559437301097E+02    0.16846E-02   -0.22655E-02 12875   0.691E-01    0.208E-01RMM:  12    -0.559413428432E+02    0.23873E-02   -0.55145E-03 11960   0.354E-01    0.586E-02RMM:  13    -0.559414638149E+02   -0.12097E-03   -0.17465E-03 13023   0.187E-01    0.323E-02RMM:  14    -0.559411451635E+02    0.31865E-03   -0.83089E-04 11756   0.134E-01    0.373E-02RMM:  15    -0.559412390394E+02   -0.93876E-04   -0.47990E-04 11372   0.168E-01    0.284E-02RMM:  16    -0.559414153722E+02   -0.17633E-03   -0.21175E-04 11475   0.107E-01    0.129E-02RMM:  17    -0.559414836424E+02   -0.68270E-04   -0.10022E-04 11751   0.526E-02    0.889E-03RMM:  18    -0.559415856898E+02   -0.10205E-03   -0.51724E-05 11898   0.366E-02    0.682E-03RMM:  19    -0.559416259149E+02   -0.40225E-04   -0.26297E-05 11504   0.350E-02    0.861E-03RMM:  20    -0.559416406670E+02   -0.14752E-04   -0.10748E-05 11263   0.208E-02    0.367E-03RMM:  21    -0.559416498741E+02   -0.92071E-05   -0.47420E-06  8911   0.102E-02    0.119E-03RMM:  22    -0.559416543655E+02   -0.44914E-05   -0.22030E-06  7155   0.977E-03    0.193E-03RMM:  23    -0.559416573370E+02   -0.29715E-05   -0.14726E-06  6702   0.894E-03    0.135E-03RMM:  24    -0.559416575122E+02   -0.17515E-06   -0.44209E-07  6318   0.507E-03   1 F= -.55941658E+02 E0= -.55944345E+02  d E =0.806296E-02\r\n不管怎么修改ALGO、ENCUT等参数，grep accuracy OUTCAR始终不返回reached required accuracy - stopping structural energy minimisation，后来我才意识到，这是==单点计算==，NSW = 0，并不会进行离子步迭代呀，所以我们只需关注电子步收敛即可，很明显电子步收敛，OUTCAR里的信息也可说明\r\n12[ctan@baifq-hpc141 conventional-slab-static]$ grep abort OUTCAR------------------------ aborting loop because EDIFF is reached ----------------------------------------\r\nThis is definitely a stupid, stupid and stupid\r\nmistake😭\r\n就写到这，吃饭去了，待会还要回实验室\r\n使用Primitive Cell\r\n使用bulk计算且收敛的CONTCAR进行slab模型的建立，操作还是类似的\r\n值得注意的是，需要先==find\r\nsymmetry==，然后才能转换为primitive cell\r\n\r\n\r\n降低对称性之前\r\n\r\n\r\n\r\nfind symmetry\r\n\r\n然后impose symmetry，接着再转换为primitive cell，然后建立slab模型\r\nPOSCAR会有些不同\r\n123456789101112CONTCAR\\(1\\1\\1)1.0        2.5701000690         0.0000000000         0.0000000000       -1.2850500345         2.2257719501         0.0000000000        0.0000000000         0.0000000000        21.2954006195   Cu    4Direct     0.000000000         0.000000000         0.000000000     0.666670000         0.333330000         0.098540000     0.333330000         0.666670000         0.197080000     0.000000000         0.000000000         0.295620000\r\n计算后的能量也有所不同：\r\n12(base) storm@DESKTOP-HE4FQ8Q:~/my-learn/ex42/Cu-primitive-slab$ grep &#x27;  without&#x27; OUTCAR  energy  without entropy=      -13.97087892  energy(sigma-&gt;0) =      -13.97120814\r\n值得一提的是，在白老师的计算集群上运行时报错了(vasp.6.4.2)\r\n如果截断能ENCUT过小可能报错Error EDDDAV: Call to ZHEGV failed. Returncode = 7 1 8\r\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677[ctan@baifq-hpc141 Cu-primmitive-slab]$ lsINCAR  KPOINTS  POSCAR  POTCAR[ctan@baifq-hpc141 Cu-primmitive-slab]$ clear[ctan@baifq-hpc141 Cu-primmitive-slab]$ sbatch vaspSubmitted batch job 4321[ctan@baifq-hpc141 Cu-primmitive-slab]$ tail -f OUTCAR--------------------------------------- Ionic step        1  ---------------------------------------------------------------------------------- Iteration      1(   1)  ---------------------------------------    POTLOK:  cpu time      0.0215: real time      0.0258    SETDIJ:  cpu time      0.0109: real time      0.0118     EDDAV:  cpu time      0.7451: real time      0.7613       DOS:  cpu time      0.0052: real time      0.0060    --------------------------------------------      LOOP:  cpu time      0.7826: real time      0.8050 eigenvalue-minimisations  :  2548 total energy-change (2. order) : 0.3445715E+03  (-0.1837296E+04) number of electron      44.0000000 magnetization augmentation part       44.0000000 magnetization DIPCOR: dipole corrections for dipol direction  3 min pos   155, dipolmoment           0.000000      0.000000      0.000026 electrons x Angstroem Tr[quadrupol]       -31.061780 energy correction for charged system         0.000000 eV dipol+quadrupol energy correction           -0.000000 eV added-field ion interaction          0.001451 eV  (added to PSCEN) Free energy of the ion-electron system (eV)  ---------------------------------------------------  alpha Z        PSCENC =        96.14159556  Ewald energy   TEWEN  =     16384.30326894  -Hartree energ DENC   =    -21746.47963692  -exchange      EXHF   =         0.00000000  -V(xc)+E(xc)   XCENC  =       182.01436818  PAW double counting   =      4912.82663951    -5336.19386850  entropy T*S    EENTRO =         0.00034874  eigenvalues    EBANDS =       288.07434016  atomic energy  EATOM  =      5563.88447798  Solvation  Ediel_sol  =         0.00000000  ---------------------------------------------------  free energy    TOTEN  =       344.57153365 eV  energy without entropy =      344.57118491  energy(sigma-&gt;0) =      344.57141740----------------------------------------------------------------------------------------------------------------------------------------------- Iteration      1(   2)  --------------------------------------- -----------------------------------------------------------------------------|                                                                             ||     EEEEEEE  RRRRRR   RRRRRR   OOOOOOO  RRRRRR      ###     ###     ###     ||     E        R     R  R     R  O     O  R     R     ###     ###     ###     ||     E        R     R  R     R  O     O  R     R     ###     ###     ###     ||     EEEEE    RRRRRR   RRRRRR   O     O  RRRRRR       #       #       #      ||     E        R   R    R   R    O     O  R   R                               ||     E        R    R   R    R   O     O  R    R      ###     ###     ###     ||     EEEEEEE  R     R  R     R  OOOOOOO  R     R     ###     ###     ###     ||                                                                             ||     Error EDDDAV: Call to ZHEGV failed. Returncode = 7 1 8                  ||                                                                             ||       ----&gt;  I REFUSE TO CONTINUE WITH THIS SICK JOB ... BYE!!! &lt;----       ||                                                                             | -----------------------------------------------------------------------------\r\n小结\r\n\r\n此计算是在bulk计算的基础上(最优结构)进行的单点计算，计算时不能进行离子弛豫，不能进行离子步迭代，默认NSW=0\r\n不进行离子弛豫，那么自然不能设置离子步收敛条件，不能设置EDIFFG\r\n如果不报错运行但结果不收敛可试着增大电子步数NSW以及截断能ENCUT\r\n\r\n","dateCreated":"2025-04-23T10:48:00+08:00","dateModified":"2025-04-27T21:14:10+08:00","datePublished":"2025-04-23T10:48:00+08:00","description":"","headline":"Cu(111) slab模型的单点计算","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"},"publisher":{"@type":"Organization","name":"John Doe","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/","keywords":"化学, 科研"}</script>
    <meta name="description" content="首先对Cu单胞进行结构优化（bulk计算），然后使用优化的结构进行切割，再进行计算（由于晶胞已经优化过，所以本次计算其实是单点计算）。大师兄提到：  Cu(111) slab 模型（POSCAR）的制作流程（复习一下）。注意：前面我们用的是Conventional cell，下面用的是Primitive Cell。 一般来说用Conventional cell， FCC的金属可以用Pr">
<meta property="og:type" content="blog">
<meta property="og:title" content="Cu(111) slab模型的单点计算">
<meta property="og:url" content="http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="首先对Cu单胞进行结构优化（bulk计算），然后使用优化的结构进行切割，再进行计算（由于晶胞已经优化过，所以本次计算其实是单点计算）。大师兄提到：  Cu(111) slab 模型（POSCAR）的制作流程（复习一下）。注意：前面我们用的是Conventional cell，下面用的是Primitive Cell。 一般来说用Conventional cell， FCC的金属可以用Pr">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/1.png">
<meta property="article:published_time" content="2025-04-23T02:48:00.000Z">
<meta property="article:modified_time" content="2025-04-27T13:14:10.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="化学">
<meta property="article:tag" content="科研">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/1.png">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    




<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      tags: 'ams'
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>





<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Hexo
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Cu(111) slab模型的单点计算
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2025-04-23T10:48:00+08:00">
	
		    Apr 23, 2025
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/all-categories/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%9A%84%E7%A7%91%E7%A0%94%E4%B9%8B%E6%97%85/">从零开始的科研之旅</a>, <a class="category-link" href="/all-categories/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E7%9A%84%E7%A7%91%E7%A0%94%E4%B9%8B%E6%97%85/VASP/">VASP</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>首先对Cu单胞进行结构优化（bulk计算），然后使用优化的结构进行切割，再进行计算（由于晶胞已经优化过，所以本次计算其实是单点计算）。大师兄提到：</p>
<blockquote>
<p>Cu(111) slab
模型（POSCAR）的制作流程（复习一下）。<strong>注意：</strong>前面我们用的是Conventional
cell，下面用的是Primitive Cell。
一般来说用<code>Conventional cell</code>，
FCC的金属可以用<code>Primitive Cell</code>
但对于其他体系，通过<code>Primitive Cell</code>切出来表面模型有问题</p>
</blockquote>
<p>我准备两种都验证一下。</p>
<h2 id="使用conventional-cell建立slab模型">使用Conventional
Cell建立slab模型</h2>
<h3 id="切割结构">切割结构</h3>
<p>将bulk计算完毕的CONTCAR文件用Vesta打开，再转换为<code>.cif</code>文件使用Materials
Studio打开</p>
<ul>
<li>Step1：Build-Surface-Cleave Surface</li>
</ul>
<p><code>Angstrom</code>是单位<code>埃</code>，需要切割的晶面是(111)，相应的平面方程为<span
class="math inline"><em>x</em> + <em>y</em> + <em>z</em> − 1 = 0</span>，使用点到直线的距离公式即可求出晶面间距离，，即厚度<code>thickness</code></p>
<p>PS：之前<code>111</code>晶面是啥都给整忘了，算个点到直线的距离也能算错，真该抽自己两巴掌回去恶补<code>高等数学</code>😭</p>
<p>以下是来自维基百科的关于米勒指数以及<code>111</code>晶面的介绍，很形象了</p>
<figure>
<img
src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/Indices_miller_plan_exemple_cube.png"
alt="米勒指数以及111晶面" />
<figcaption aria-hidden="true">米勒指数以及111晶面</figcaption>
</figure>
<figure>
<img src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/1.png"
alt="GeoGebra计算器" />
<figcaption aria-hidden="true">GeoGebra计算器</figcaption>
</figure>
<p>平面ABC为：<span
class="math inline"><em>x</em> + <em>y</em> + <em>z</em> − 1 = 0</span>，点D为(1,1,0)</p>
<p>算一下厚度： <span class="math display">$$
d=\dfrac{|Ax_0+By_0+Cz_0|}{\sqrt{A^2+B^2+C^2}}=\dfrac{1}{\sqrt{3}}a\approx
\dfrac{1}{\sqrt{3}}\times 3.63468 \approx 2.0984
$$</span> <img
src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/image-20250426174733986.png"
alt="Cleave Surface in Materials Studio" /></p>
<p>在切割晶面时，<code>thickness</code>设置为4.0 (<span
class="math inline">4.0 = 1.0 × 4</span>)，即四倍的晶胞参数、四层原子，按一下<code>TAB</code>，软件软件会自动计算四层原子的真是厚度（单位：Angstrom埃），大约是<span
class="math inline">8.394 ≈ 4 × 2.0984</span>，这与我们手动计算的晶面间距离2.0984的四倍相符</p>
<ul>
<li>Step2：添加真空层，Build-Crystal-Build vacuum slab-Vacuum
orientation：C</li>
</ul>
<figure>
<img
src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/image-20250423111821857.png"
alt="添加真空层" />
<figcaption aria-hidden="true">添加真空层</figcaption>
</figure>
<ul>
<li>Step3：右键-lattice parameters</li>
</ul>
<figure>
<img
src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/image-20250423110528280.png"
alt="设置Z轴方向为真空层" />
<figcaption aria-hidden="true">设置Z轴方向为真空层</figcaption>
</figure>
<p>导出为<code>.cif</code>，vesta打开转换为<code>POSCAR</code>,</p>
<p><code>INCAR</code>如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">System = Cu-conventional-slab</span><br><span class="line">ISMEAR = 1</span><br><span class="line">SIGMA = 0.1</span><br><span class="line">ALGO = Fast</span><br><span class="line">ENCUT = 450 # the system is too huge to adopt huge ENCUT</span><br><span class="line">EDIFF = 1E-5</span><br><span class="line">LDIPOL = .TRUE.</span><br><span class="line">IDIPOL = 3</span><br><span class="line">NWRITE = 0</span><br><span class="line">LWAVE = .FALSE.</span><br><span class="line">LCHARG = .FALSE.</span><br><span class="line">NCORE = 20</span><br></pre></td></tr></table></figure>
<p>Slab模型虽然是代表表面，但是实际上在z方向是固体-真空-固体-真空-…的交替。如果我们建立的Slab模型在z方向是非对称的，模型就会产生一个沿z方向的偶极。偶极会产生静电势，静电势接着会影响模型的镜像（周期性边界条件）。最后算出来的模型的总能量和力与真实情况是不相符的。因此我们需要方法去矫正这种虚假的静电影响。</p>
<p>一种常用的方法就是偶极矫正，在真空部分加入一个超窄的但是方向相反的偶极。这样一来，固体模型产生的偶极和真空中的偶极就会相互抵消。模型和其镜像之间的静电势影响就会抵消</p>
<p>微调<code>KPOINTS</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">K-POINTS</span><br><span class="line"> 0</span><br><span class="line">Gamma</span><br><span class="line">  13 13 1</span><br><span class="line">  0 0 0</span><br></pre></td></tr></table></figure>
<h3 id="计算结果">计算结果</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ctan@baifq-hpc141 Cu-conventional-slab]$ grep <span class="string">&#x27;  without&#x27;</span> OUTCAR</span><br><span class="line">  energy  without entropy=      -55.91176854  energy(sigma-&gt;0) =      -55.91397643</span><br></pre></td></tr></table></figure>
<p>PS：最近学迷糊了，关于<code>收敛</code>脑海中有一个极其不正且的理解</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[ctan@baifq-hpc141 bulk-calc]$ grep accuracy OUTCAR</span><br><span class="line"> reached required accuracy - stopping structural energy minimisation</span><br><span class="line">[ctan@baifq-hpc141 bulk-calc]$ <span class="built_in">cat</span> OSZICAR</span><br><span class="line">       N       E                     dE             d eps       ncg     rms          rms(c)</span><br><span class="line">DAV:   1     0.103476848532E+03    0.10348E+03   -0.27847E+04  6720   0.246E+03</span><br><span class="line">DAV:   2    -0.180387697818E+02   -0.12152E+03   -0.12091E+03  7280   0.155E+02</span><br><span class="line">DAV:   3    -0.185227503579E+02   -0.48398E+00   -0.48396E+00 10160   0.132E+01</span><br><span class="line">DAV:   4    -0.185240376489E+02   -0.12873E-02   -0.12873E-02  8200   0.464E-01</span><br><span class="line">DAV:   5    -0.185240414620E+02   -0.38131E-05   -0.38134E-05 10480   0.143E-02    0.154E+01</span><br><span class="line">DAV:   6    -0.164394189736E+02    0.20846E+01   -0.72731E+01  6800   0.881E+01    0.783E+00</span><br><span class="line">DAV:   7    -0.149577606472E+02    0.14817E+01   -0.11165E+01  6720   0.344E+01    0.111E+00</span><br><span class="line">DAV:   8    -0.149148685722E+02    0.42892E-01   -0.18431E-02  7280   0.139E+00    0.620E-01</span><br><span class="line">DAV:   9    -0.149081819010E+02    0.66867E-02   -0.51836E-02  8440   0.220E+00    0.636E-02</span><br><span class="line">DAV:  10    -0.149081753161E+02    0.65849E-05   -0.22202E-04  9000   0.149E-01    0.115E-02</span><br><span class="line">DAV:  11    -0.149081715196E+02    0.37964E-05   -0.16862E-06  8520   0.968E-03    0.844E-04</span><br><span class="line">DAV:  12    -0.149081716052E+02   -0.85577E-07   -0.88627E-08  4640   0.248E-03</span><br><span class="line">   1 F= -.14908172E+02 E0= -.14905377E+02  d E =-.149082E+02</span><br><span class="line">       N       E                     dE             d eps       ncg     rms          rms(c)</span><br><span class="line">DAV:   1    -0.149363274123E+02   -0.28156E-01   -0.51946E-01  6720   0.830E+00    0.131E+00</span><br><span class="line">DAV:   2    -0.149199449776E+02    0.16382E-01   -0.41291E-01  6720   0.646E+00    0.538E-01</span><br><span class="line">DAV:   3    -0.149119014518E+02    0.80435E-02   -0.68998E-02  6720   0.271E+00    0.192E-01</span><br><span class="line">DAV:   4    -0.149112107699E+02    0.69068E-03   -0.11896E-03  9800   0.216E-01    0.117E-02</span><br><span class="line">DAV:   5    -0.149112123403E+02   -0.15704E-05   -0.80430E-06  7320   0.267E-02    0.594E-03</span><br><span class="line">DAV:   6    -0.149112142891E+02   -0.19488E-05   -0.13229E-06  4760   0.997E-03    0.128E-04</span><br><span class="line">DAV:   7    -0.149112142406E+02    0.48522E-07   -0.22610E-08  3560   0.101E-03</span><br><span class="line">   2 F= -.14911214E+02 E0= -.14908447E+02  d E =-.304264E-02</span><br><span class="line">       N       E                     dE             d eps       ncg     rms          rms(c)</span><br><span class="line">DAV:   1    -0.150389301673E+02   -0.12772E+00   -0.26022E+00  6720   0.187E+01    0.290E+00</span><br><span class="line">DAV:   2    -0.149566578541E+02    0.82272E-01   -0.20265E+00  6720   0.143E+01    0.119E+00</span><br><span class="line">DAV:   3    -0.149175257623E+02    0.39132E-01   -0.34317E-01  6720   0.604E+00    0.437E-01</span><br><span class="line">DAV:   4    -0.149140056079E+02    0.35202E-02   -0.72028E-03 10080   0.565E-01    0.378E-02</span><br><span class="line">DAV:   5    -0.149139977907E+02    0.78172E-05   -0.11528E-04  7840   0.108E-01    0.134E-02</span><br><span class="line">DAV:   6    -0.149140005388E+02   -0.27480E-05   -0.66656E-06  7680   0.220E-02    0.371E-04</span><br><span class="line">DAV:   7    -0.149140005655E+02   -0.26792E-07   -0.64306E-08  3960   0.196E-03</span><br><span class="line">   3 F= -.14914001E+02 E0= -.14911298E+02  d E =-.582896E-02</span><br></pre></td></tr></table></figure>
<p>这是上一节里的关于bulk计算（结构优化）的部分内容，可以看到，<code>reached required accuracy - stopping structural energy minimisation</code>——离子步已经收敛，在之后的<code>OSZICAR</code>里，电子步迭代最多7步，并未超过设置的最大电子步数目。因此对于bulk计算，==电子步和离子步都收敛==</p>
<p>而对于slab模型的单点计算，我也傻傻的这么做😢</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[ctan@baifq-hpc141 conventional-slab-static]$ grep accuracy OUTCAR</span><br><span class="line">[ctan@baifq-hpc141 conventional-slab-static]$ <span class="built_in">cat</span> OSZICAR</span><br><span class="line">       N       E                     dE             d eps       ncg     rms          rms(c)</span><br><span class="line">DAV:   1     0.178654188479E+04    0.17865E+04   -0.88940E+04 10388   0.264E+03</span><br><span class="line">DAV:   2     0.200572973408E+03   -0.15860E+04   -0.15355E+04 10388   0.519E+02</span><br><span class="line">DAV:   3    -0.535557174826E+02   -0.25413E+03   -0.23428E+03 10438   0.249E+02</span><br><span class="line">DAV:   4    -0.683234131101E+02   -0.14768E+02   -0.14274E+02 11572   0.815E+01</span><br><span class="line">DAV:   5    -0.687193157556E+02   -0.39590E+00   -0.39405E+00 12400   0.117E+01    0.292E+01</span><br><span class="line">RMM:   6    -0.611494529970E+02    0.75699E+01   -0.15131E+02 11054   0.104E+02    0.161E+01</span><br><span class="line">RMM:   7    -0.558685188476E+02    0.52809E+01   -0.32335E+01 10772   0.530E+01    0.226E+00</span><br><span class="line">RMM:   8    -0.559296519539E+02   -0.61133E-01   -0.22789E+00 11552   0.614E+00    0.111E+00</span><br><span class="line">RMM:   9    -0.559488617332E+02   -0.19210E-01   -0.37622E-01 11539   0.361E+00    0.509E-01</span><br><span class="line">RMM:  10    -0.559454147061E+02    0.34470E-02   -0.13294E-01 12844   0.193E+00    0.214E-01</span><br><span class="line">RMM:  11    -0.559437301097E+02    0.16846E-02   -0.22655E-02 12875   0.691E-01    0.208E-01</span><br><span class="line">RMM:  12    -0.559413428432E+02    0.23873E-02   -0.55145E-03 11960   0.354E-01    0.586E-02</span><br><span class="line">RMM:  13    -0.559414638149E+02   -0.12097E-03   -0.17465E-03 13023   0.187E-01    0.323E-02</span><br><span class="line">RMM:  14    -0.559411451635E+02    0.31865E-03   -0.83089E-04 11756   0.134E-01    0.373E-02</span><br><span class="line">RMM:  15    -0.559412390394E+02   -0.93876E-04   -0.47990E-04 11372   0.168E-01    0.284E-02</span><br><span class="line">RMM:  16    -0.559414153722E+02   -0.17633E-03   -0.21175E-04 11475   0.107E-01    0.129E-02</span><br><span class="line">RMM:  17    -0.559414836424E+02   -0.68270E-04   -0.10022E-04 11751   0.526E-02    0.889E-03</span><br><span class="line">RMM:  18    -0.559415856898E+02   -0.10205E-03   -0.51724E-05 11898   0.366E-02    0.682E-03</span><br><span class="line">RMM:  19    -0.559416259149E+02   -0.40225E-04   -0.26297E-05 11504   0.350E-02    0.861E-03</span><br><span class="line">RMM:  20    -0.559416406670E+02   -0.14752E-04   -0.10748E-05 11263   0.208E-02    0.367E-03</span><br><span class="line">RMM:  21    -0.559416498741E+02   -0.92071E-05   -0.47420E-06  8911   0.102E-02    0.119E-03</span><br><span class="line">RMM:  22    -0.559416543655E+02   -0.44914E-05   -0.22030E-06  7155   0.977E-03    0.193E-03</span><br><span class="line">RMM:  23    -0.559416573370E+02   -0.29715E-05   -0.14726E-06  6702   0.894E-03    0.135E-03</span><br><span class="line">RMM:  24    -0.559416575122E+02   -0.17515E-06   -0.44209E-07  6318   0.507E-03</span><br><span class="line">   1 F= -.55941658E+02 E0= -.55944345E+02  d E =0.806296E-02</span><br></pre></td></tr></table></figure>
<p>不管怎么修改<code>ALGO</code>、<code>ENCUT</code>等参数，<code>grep accuracy OUTCAR</code>始终不返回<code>reached required accuracy - stopping structural energy minimisation</code>，后来我才意识到，这是==单点计算==，<code>NSW = 0</code>，并不会进行离子步迭代呀，所以我们只需关注电子步收敛即可，很明显电子步收敛，<code>OUTCAR</code>里的信息也可说明</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ctan@baifq-hpc141 conventional-slab-static]$ grep abort OUTCAR</span><br><span class="line">------------------------ aborting loop because EDIFF is reached ----------------------------------------</span><br></pre></td></tr></table></figure>
<p><strong>This is definitely a stupid, stupid and stupid
mistake</strong>😭</p>
<p>就写到这，吃饭去了，待会还要回实验室</p>
<h2 id="使用primitive-cell">使用Primitive Cell</h2>
<p>使用<code>bulk计算</code>且收敛的<code>CONTCAR</code>进行slab模型的建立，操作还是类似的</p>
<p>值得注意的是，需要先==find
symmetry==，然后才能转换为<code>primitive cell</code></p>
<figure>
<img
src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/image-20250426191515563.png"
alt="降低对称性之前" />
<figcaption aria-hidden="true">降低对称性之前</figcaption>
</figure>
<figure>
<img
src="./Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/image-20250426191902480.png"
alt="find symmetry" />
<figcaption aria-hidden="true">find symmetry</figcaption>
</figure>
<p>然后<code>impose symmetry</code>，接着再转换为<code>primitive cell</code>，然后建立slab模型</p>
<p><code>POSCAR</code>会有些不同</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CONTCAR\(1\1\1)</span><br><span class="line">1.0</span><br><span class="line">        2.5701000690         0.0000000000         0.0000000000</span><br><span class="line">       -1.2850500345         2.2257719501         0.0000000000</span><br><span class="line">        0.0000000000         0.0000000000        21.2954006195</span><br><span class="line">   Cu</span><br><span class="line">    4</span><br><span class="line">Direct</span><br><span class="line">     0.000000000         0.000000000         0.000000000</span><br><span class="line">     0.666670000         0.333330000         0.098540000</span><br><span class="line">     0.333330000         0.666670000         0.197080000</span><br><span class="line">     0.000000000         0.000000000         0.295620000</span><br></pre></td></tr></table></figure>
<p>计算后的能量也有所不同：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) storm@DESKTOP-HE4FQ8Q:~/my-learn/ex42/Cu-primitive-slab$ grep &#x27;  without&#x27; OUTCAR</span><br><span class="line">  energy  without entropy=      -13.97087892  energy(sigma-&gt;0) =      -13.97120814</span><br></pre></td></tr></table></figure>
<p>值得一提的是，在白老师的计算集群上运行时报错了(<code>vasp.6.4.2</code>)</p>
<p>如果截断能<code>ENCUT</code>过小可能报错<code>Error EDDDAV: Call to ZHEGV failed. Returncode = 7 1 8</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">[ctan@baifq-hpc141 Cu-primmitive-slab]$ <span class="built_in">ls</span></span><br><span class="line">INCAR  KPOINTS  POSCAR  POTCAR</span><br><span class="line">[ctan@baifq-hpc141 Cu-primmitive-slab]$ clear</span><br><span class="line">[ctan@baifq-hpc141 Cu-primmitive-slab]$ sbatch vasp</span><br><span class="line">Submitted batch job 4321</span><br><span class="line">[ctan@baifq-hpc141 Cu-primmitive-slab]$ <span class="built_in">tail</span> -f OUTCAR</span><br><span class="line">--------------------------------------- Ionic step        1  -------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------------------------- Iteration      1(   1)  ---------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    POTLOK:  cpu <span class="keyword">time</span>      0.0215: real <span class="keyword">time</span>      0.0258</span><br><span class="line">    SETDIJ:  cpu <span class="keyword">time</span>      0.0109: real <span class="keyword">time</span>      0.0118</span><br><span class="line">     EDDAV:  cpu <span class="keyword">time</span>      0.7451: real <span class="keyword">time</span>      0.7613</span><br><span class="line">       DOS:  cpu <span class="keyword">time</span>      0.0052: real <span class="keyword">time</span>      0.0060</span><br><span class="line">    --------------------------------------------</span><br><span class="line">      LOOP:  cpu <span class="keyword">time</span>      0.7826: real <span class="keyword">time</span>      0.8050</span><br><span class="line"></span><br><span class="line"> eigenvalue-minimisations  :  2548</span><br><span class="line"> total energy-change (2. order) : 0.3445715E+03  (-0.1837296E+04)</span><br><span class="line"> number of electron      44.0000000 magnetization</span><br><span class="line"> augmentation part       44.0000000 magnetization</span><br><span class="line"></span><br><span class="line"> DIPCOR: dipole corrections <span class="keyword">for</span> dipol</span><br><span class="line"> direction  3 min pos   155,</span><br><span class="line"> dipolmoment           0.000000      0.000000      0.000026 electrons x Angstroem</span><br><span class="line"> Tr[quadrupol]       -31.061780</span><br><span class="line"></span><br><span class="line"> energy correction <span class="keyword">for</span> charged system         0.000000 eV</span><br><span class="line"> dipol+quadrupol energy correction           -0.000000 eV</span><br><span class="line"> added-field ion interaction          0.001451 eV  (added to PSCEN)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> Free energy of the ion-electron system (eV)</span><br><span class="line">  ---------------------------------------------------</span><br><span class="line">  alpha Z        PSCENC =        96.14159556</span><br><span class="line">  Ewald energy   TEWEN  =     16384.30326894</span><br><span class="line">  -Hartree energ DENC   =    -21746.47963692</span><br><span class="line">  -exchange      EXHF   =         0.00000000</span><br><span class="line">  -V(xc)+E(xc)   XCENC  =       182.01436818</span><br><span class="line">  PAW double counting   =      4912.82663951    -5336.19386850</span><br><span class="line">  entropy T*S    EENTRO =         0.00034874</span><br><span class="line">  eigenvalues    EBANDS =       288.07434016</span><br><span class="line">  atomic energy  EATOM  =      5563.88447798</span><br><span class="line">  Solvation  Ediel_sol  =         0.00000000</span><br><span class="line">  ---------------------------------------------------</span><br><span class="line">  free energy    TOTEN  =       344.57153365 eV</span><br><span class="line"></span><br><span class="line">  energy without entropy =      344.57118491  energy(sigma-&gt;0) =      344.57141740</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------------------------- Iteration      1(   2)  ---------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> -----------------------------------------------------------------------------</span><br><span class="line">|                                                                             |</span><br><span class="line">|     EEEEEEE  RRRRRR   RRRRRR   OOOOOOO  RRRRRR      <span class="comment">###     ###     ###     |</span></span><br><span class="line">|     E        R     R  R     R  O     O  R     R     <span class="comment">###     ###     ###     |</span></span><br><span class="line">|     E        R     R  R     R  O     O  R     R     <span class="comment">###     ###     ###     |</span></span><br><span class="line">|     EEEEE    RRRRRR   RRRRRR   O     O  RRRRRR       <span class="comment">#       #       #      |</span></span><br><span class="line">|     E        R   R    R   R    O     O  R   R                               |</span><br><span class="line">|     E        R    R   R    R   O     O  R    R      <span class="comment">###     ###     ###     |</span></span><br><span class="line">|     EEEEEEE  R     R  R     R  OOOOOOO  R     R     <span class="comment">###     ###     ###     |</span></span><br><span class="line">|                                                                             |</span><br><span class="line">|     Error EDDDAV: Call to ZHEGV failed. Returncode = 7 1 8                  |</span><br><span class="line">|                                                                             |</span><br><span class="line">|       ----&gt;  I REFUSE TO CONTINUE WITH THIS SICK JOB ... BYE!!! &lt;----       |</span><br><span class="line">|                                                                             |</span><br><span class="line"> -----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>
<h3 id="小结">小结</h3>
<ul>
<li>此计算是在bulk计算的基础上(<strong>最优结构</strong>)进行的单点计算，计算时<strong>不能进行离子弛豫，不能进行离子步迭代</strong>，默认<code>NSW=0</code></li>
<li>不进行离子弛豫，那么自然不能设置离子步收敛条件，不能设置<code>EDIFFG</code></li>
<li>如果不报错运行但结果不收敛可试着增大电子步数<code>NSW</code>以及截断能<code>ENCUT</code></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/all-tags/%E5%8C%96%E5%AD%A6/" rel="tag">化学</a> <a class="tag tag--primary tag--small t-none-link" href="/all-tags/%E7%A7%91%E7%A0%94/" rel="tag">科研</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2025/04/27/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E6%99%B6%E9%9D%A2%E7%9A%84%E4%BC%98%E5%8C%96%E8%AE%A1%E7%AE%97/"
                    data-tooltip="p(1x1)Cu(111)的优化计算"
                    aria-label="PREVIOUS: p(1x1)Cu(111)的优化计算"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu%E5%8D%95%E8%83%9E%E7%9A%84bulk%E8%AE%A1%E7%AE%97/"
                    data-tooltip="Cu单胞的bulk计算"
                    aria-label="NEXT: Cu单胞的bulk计算"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 John Doe. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2025/04/27/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E6%99%B6%E9%9D%A2%E7%9A%84%E4%BC%98%E5%8C%96%E8%AE%A1%E7%AE%97/"
                    data-tooltip="p(1x1)Cu(111)的优化计算"
                    aria-label="PREVIOUS: p(1x1)Cu(111)的优化计算"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu%E5%8D%95%E8%83%9E%E7%9A%84bulk%E8%AE%A1%E7%AE%97/"
                    data-tooltip="Cu单胞的bulk计算"
                    aria-label="NEXT: Cu单胞的bulk计算"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=http://example.com/2025/04/23/%E7%A7%91%E7%A0%94/VASP/Starry%20Sky/Cu(111)%E7%9A%84%E5%8D%95%E7%82%B9%E8%AE%A1%E7%AE%97/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">John Doe</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-akgy1kkmfssyzznzlvk9mjwcvnsn87aqalldnf43rojvlib0s8vpmeb5mayw.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
